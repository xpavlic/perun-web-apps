<h1 mat-dialog-title>{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.TITLE' | translate}}</h1>
<mat-spinner class="ml-auto mr-auto" *ngIf="loading"></mat-spinner>
<div class="dialog-container" mat-dialog-content *ngIf="!loading">
  <mat-form-field>
    <mat-label>{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.SUBJECT' | translate}}</mat-label>
    <input #subjectModel=ngModel [(ngModel)]="subject" matInput required>
    <mat-error *ngIf="subjectModel.invalid">{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.SUBJECT_ERROR' | translate}}</mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.MESSAGE' | translate}}</mat-label>
    <textarea
      #messageModel=ngModel
      [(ngModel)]="message"
      matInput
      placeholder="{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.MESSAGE_PLACEHOLDER' | translate}}"
      required>
    </textarea>
    <mat-error *ngIf="messageModel.invalid">{{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.MESSAGE_ERROR' | translate}}</mat-error>
  </mat-form-field>
</div>

<div mat-dialog-actions>
  <div class="ml-auto">
    <button (click)="dialogRef.close()" mat-button>
      {{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.CANCEL' | translate}}
    </button>
    <button
      (click)="sendBugReport()"
      [disabled]="message === '' || subject === '' || loading"
      class="ml-2"
      color="accent"
      mat-flat-button>
      {{'SHARED_LIB.PERUN.COMPONENTS.BUG_REPORT.SEND' | translate}}
    </button>
  </div>
</div>
